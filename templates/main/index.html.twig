{% extends 'base.html.twig' %}

{% block title %}{{parent()}} | Accueil{% endblock %}

{% block body %}
    <h3>Bonjour, {{ app.user.prenom }} !</h3>
    <div class="tableauAccueil">
<table>
    <thead>
    <tr>
        <th>Nom de la sortie</th>
        <th>Date de la sortie</th>
        <th>Clôture</th>
        <th>Inscrits/places</th>
        <th>Etat</th>
        <th>Inscrit</th>
        <th>Organisateur</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    {% for sortie in sorties %}
        <tr>
            <td>{{ sortie.nom }}</td>
            <td>{{ sortie.dateHeureDebut | date('d/m/Y H:i')}}</td>
            <td>{{ sortie.dateLimiteInscription | date('d/m/Y') }}</td>
            <td>? / {{ sortie.nbInscriptionsMax }}</td>
            <td>{{ sortie.etat.libelle }}</td>
            <td> ? </td>
            <td> A rajouter </td>
            <td><a href="{{ path('sortie_show', {'idSortie': sortie.id})}}">Afficher</a> - <a href="{{ path('sortie_cancel', {'idSortie': sortie.id})}}">Annuler</a> - <a href="{{ path('sortie_update', {'idSortie': sortie.id})}}">Modifier</a></td>
        </tr>
    {% endfor %}
    </tbody>
</table>
    </div>
    <button id="createSortie">Créer une sortie</button>
    <script>
        document.getElementById('createSortie').addEventListener('click', function() {
            window.location.href = "{{ path('sortie_add')}}"
        })
    </script>
{% endblock %}
